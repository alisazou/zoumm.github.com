<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no">
  <title>触屏版首页</title>
  <style type="text/css">
ul,li,body,h1{ margin: 0; padding: 0; }
body{height: 100%;}
.canvas{height: 500px;width: 100%;position: relative;}
.text{width: 20px;height: 20px;background-color: mediumvioletred;position: absolute;}
  </style>
</head>
<body>
  <div class="canvas" id="canvas"></div>
</body>
<script src="http://cache.500boss.com/public/js/zepto-1.1.4.min.js" ></script>
	<script>
		       var  startX ,startY,moveY,moveX;
		       
			//返回角度
			function GetSlideAngle(dx, dy) {
			    return Math.atan2(dy, dx) * 180 / Math.PI;
			}
			//根据起点和终点返回方向 1：向上，2：向下，3：向左，4：向右,0：未滑动
			function GetSlideDirection(startX, startY, endX, endY) {
			    var dy = startY - endY;
			    var dx = startX - end
			    
			    tml
			    var result = 0;
			 
			    //如果滑动距离太短
			    if (Math.abs(dx) < 2 && Math.abs(dy) < 2) {
			        return result;
			    }
			 
			    var angle = GetSlideAngle(dx, dy);
			    if (angle >= -45 && angle < 45) {
			        result = 4;
			    } else if (angle >= 45 && angle < 135) {
			        result = 1;
			    } else if (angle >= -135 && angle < -45) {
			        result = 2;
			    }
			    else if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) {
			        result = 3;
			    }
			 
			    return result;
			}

		          
		function Touchstart(event){
			       	try{
			       		event.preventDefault();////阻止触摸时浏览器的缩放、滚动条滚动等
			       	  	var touch = event.touches[0];//获取第一个触发点
			       		 startX = touch.pageX;//页面触点X坐标
			       		 startY = touch.pageY;//页面触点Y坐标
			       		 //记录触点初始位置
			       		  var text = 'TouchStart事件触发：（' + startX + ', ' + startY + '）';
        				 // console.log(text+"  "+touch);
			       	}
			       	 catch (e) {
        					alert('Touchstart:' + e.message);
    					}
		       }
		       
		function touchMove(event) {
		        	try{
			       		event.preventDefault();////阻止触摸时浏览器的缩放、滚动条滚动等
			       	  	var touch = event.touches[0];//获取第一个触发点
			       		 //记录触点初始位置
			       		  moveX = touch.pageX-startX;
			       		  moveY = touch.pageY-startY;
			       		  var text = 'touchMove事件触发：（' + moveX + ', ' + moveX + '）'; 
			       		  console.log(text);
						 }
				       	
			       	 catch (e) {
        					alert('Touchstart:' + e.message);
    					}       
		}
	function touchEnd(event) {
     
		}
		
 

 //绑定事件
function bindEvent(obj){
    if(obj){
        obj.addEventListener('touchstart', Touchstart, false);
        obj.addEventListener('touchmove', touchMove, false);
        obj.addEventListener('touchend', touchEnd, false);
    }

}
 
bindEvent(document.getElementById("canvas"));
		
</script>
</html>