<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="keywords" content="html5，动画，javascript" />
<meta name="description" content="Helloweba演示平台，演示XHTML、CSS、jquery、PHP案例和示例" />
<title>演示：jQuery掷色子动画</title>
<!-- <link rel="stylesheet" type="text/css" href="http://www.helloweba.com/demo/css/main.css" /> -->
<style type="text/css">


body{height:100%; font:14px/18px "Microsoft Yahei", Tahoma, Helvetica, Arial, Verdana, "\5b8b\4f53", sans-serif; color:#51555C;/* background: url(../images/body_bg.gif) repeat-x; */}

#main{width:980px; min-height:600px; margin:30px auto 0 auto; border:1px solid #d3d3d3; background:#fff; -moz-border-radius:5px;-khtml-border-radius: 5px;-webkit-border-radius: 5px; border-radius:5px;}
h2.top_title{margin:4px 20px; padding-top:15px; padding-left:20px; padding-bottom:10px; border-bottom:1px solid #d3d3d3; font-size:18px; color:#a84c10;background:url(../images/arrL.gif) no-repeat 2px 16px;}

.demo{width:760px; height:120px; margin:10px auto;}
.wrap{width:90px; height:90px; margin:120px auto 30px auto; position:relative;}
.dice{width:90px; height:90px; background:url(dice.png) no-repeat; cursor:pointer;}
.dice_1{background-position:-5px -4px;}
.dice_2{background-position:-5px -107px;}
.dice_3{background-position:-5px -212px;}
.dice_4{background-position:-5px -317px;}
.dice_5{background-position:-5px -427px;}
.dice_6{background-position:-5px -535px;}
.dice_t{background-position:-5px -651px;}
.dice_s{background-position:-5px -763px;}
.dice_e{background-position:-5px -876px;}
p#result{text-align:center; font-size:16px;}
p#result span{font-weight:bold; color:#f30; margin:6px;}
#dice_mask{width:90px; height:90px; background:#fff; opacity:0; position:absolute; top:0; left:0; z-index:999;}

</style>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
$(function(){
	var dice = $("#dice");
	dice.click(function(){
		$(".wrap").append("<div id='dice_mask'></div>");//加遮罩
		dice.attr("class","dice");//清除上次动画后的点数
		dice.css('cursor','default');
		var num = Math.floor(Math.random()*6+1);//产生随机数1-6
		dice.animate({left: '+2px'}, 100,function(){
			dice.addClass("dice_t");
		}).delay(200).animate({top:'-2px'},100,function(){
			dice.removeClass("dice_t").addClass("dice_s");
		}).delay(200).animate({opacity: 'show'},600,function(){
			dice.removeClass("dice_s").addClass("dice_e");
		}).delay(100).animate({left:'-2px',top:'2px'},100,function(){
			dice.removeClass("dice_e").addClass("dice_"+num);
			$("#result").html("您掷得点数是<span>"+num+"</span>");
			dice.css('cursor','pointer');
			$("#dice_mask").remove();//移除遮罩
		});
	});
});
</script>
</head>

<body>


<div id="main">
   <h2 class="top_title"><a href="http://www.helloweba.com/view-blog-250.html">jQuery掷色子动画</a></h2>
   <div class="demo">
   		<div class="wrap">
   			<div id="dice" class="dice dice_1"></div>
        </div>
        <p id="result">请直接点击上面的色子！</p>
   </div>
	</div>

</body>
</html>
