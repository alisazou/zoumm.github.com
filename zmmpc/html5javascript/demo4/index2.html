<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Oval</title>
    <style>
       #canvas{border: 1px solid red}
    </style>

</head>
<body>

<canvas id="canvas" width="400" height="400"></canvas>

<script src="../inc/utils.js"></script>
<script src="../inc/ball.js"></script>
<script>
    window.onload = function () {
        var canvas = document.getElementById('canvas'),
                context = canvas.getContext('2d'),
                ball = new Ball(),
                mouse =utils.captureMouse(canvas),
                radius =3;
        (function drawFrame () {
            window.requestAnimationFrame(drawFrame, canvas);
            context.clearRect(0, 0, canvas.width, canvas.height);
              var dx = mouse.x -ball.x,
                  dy = mouse.y -ball.y,
                  dist = Math.atan2(dy,dx),

                  vx = Math.cos(dist) * radius ,
                  vy = Math.sin(dist) * radius;
                  ball.x += vx;
                  ball.y +=vy;
                 ball.rotate = dist;
            //console.log(  dist*180/Math.PI);

            ball.draw(context);
        }());
    };
</script>
</body>
</html>
